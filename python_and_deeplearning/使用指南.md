# CS2 Trade-Up æ¯æ—¥ä½¿ç”¨æŒ‡å—

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜ (å…±18ä¸ª)

### 1ï¸âƒ£ æ•°æ®æ–‡ä»¶ (5ä¸ª)
| æ–‡ä»¶å | å¤§å° | è¯´æ˜ | æ›´æ–°é¢‘ç‡ |
|--------|------|------|----------|
| `cs2_case_items_full.csv` | 369KB | æ‰€æœ‰ç®±å­ç‰©å“æ¸…å•(1198ä¸ª) | æ–°ç®±å­å‘å¸ƒæ—¶ |
| `skins_meta_complete.csv` | 60KB | æ‰€æœ‰ç‰©å“æµ®æ¼‚åŒºé—´(100%å‡†ç¡®) | æ–°çš®è‚¤å‘å¸ƒæ—¶ |
| `prices_with_exterior.csv` | 28KB | å½“å‰ä»·æ ¼æ•°æ®(å«å¤–è§‚) | **æ¯å¤©** |
| `prices_all_min.csv` | 42KB | åŸå§‹ä»·æ ¼æ•°æ®(å¤‡ç”¨) | **æ¯å¤©** |
| `manual_float_data.csv` | 0.4KB | æ‰‹åŠ¨æŸ¥æ‰¾çš„12ä¸ªæµ®æ¼‚æ•°æ® | å‡ ä¹ä¸å˜ |

### 2ï¸âƒ£ æ ¸å¿ƒç¨‹åº (3ä¸ª)
| æ–‡ä»¶å | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| `fetch_prices_with_steamdt.py` | æŠ“å–æœ€æ–°ä»·æ ¼ | **æ¯å¤©è¿è¡Œ** |
| `calculate_scientific.py` | ç§‘å­¦ç‰ˆTrade-Upè®¡ç®— | **æ¯å¤©è¿è¡Œ** |
| `fetch_float_from_github.py` | æ›´æ–°æµ®æ¼‚åŒºé—´ | æ–°çš®è‚¤å‘å¸ƒæ—¶ |

### 3ï¸âƒ£ è¾…åŠ©å·¥å…· (2ä¸ª)
| æ–‡ä»¶å | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| `unify_prices.py` | ç»Ÿä¸€ä»·æ ¼æ•°æ®æ ¼å¼ | æ•°æ®æ ¼å¼é—®é¢˜æ—¶ |
| `update_manual_floats.py` | æ›´æ–°æ‰‹åŠ¨æµ®æ¼‚æ•°æ® | æ–°å¢æ‰‹åŠ¨æµ®æ¼‚æ—¶ |

### 4ï¸âƒ£ è‡ªåŠ¨åŒ–è„šæœ¬ (2ä¸ª)
| æ–‡ä»¶å | è¯´æ˜ | ä½¿ç”¨æ–¹å¼ |
|--------|------|----------|
| `æ¯æ—¥æ›´æ–°.bat` | **ä¸€é”®è¿è¡Œæ¯æ—¥æ›´æ–°** | åŒå‡»è¿è¡Œ |
| `æ¸…ç†workspace.bat` | æ¸…ç†ä¸´æ—¶æ–‡ä»¶ | éœ€è¦æ—¶è¿è¡Œ |

### 5ï¸âƒ£ æ–‡æ¡£ (1ä¸ª)
| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `README_ç§‘å­¦ç‰ˆæµç¨‹.md` | è¯¦ç»†ä½¿ç”¨è¯´æ˜ |

### 6ï¸âƒ£ è®¡ç®—ç»“æœ (5ä¸ª)
| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100.csv` | å®Œæ•´ç»“æœ(CSVæ ¼å¼) |
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt` | æŒ‰åˆ©æ¶¦æ’åº |
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰ROI.txt` | æŒ‰ROIæ’åº |
| `ç§‘å­¦ç‰ˆ_äºæŸTOP100_æŒ‰åˆ©æ¶¦.txt` | äºæŸé¡¹ç›®(åˆ©æ¶¦) |
| `ç§‘å­¦ç‰ˆ_äºæŸTOP100_æŒ‰ROI.txt` | äºæŸé¡¹ç›®(ROI) |

---

## ğŸš€ æ¯æ—¥ä½¿ç”¨æµç¨‹

### æ–¹æ³•ä¸€: ä¸€é”®æ›´æ–° (æ¨è)
```batch
åŒå‡»è¿è¡Œ: æ¯æ—¥æ›´æ–°.bat
```

### æ–¹æ³•äºŒ: æ‰‹åŠ¨æ­¥éª¤
```bash
# 1. æŠ“å–æœ€æ–°ä»·æ ¼ (çº¦5åˆ†é’Ÿ)
python fetch_prices_with_steamdt.py --items-csv cs2_case_items_full.csv --out prices_all_min.csv --mode current

# 2. ç»Ÿä¸€ä»·æ ¼æ ¼å¼
python unify_prices.py

# 3. è¿è¡Œç§‘å­¦è®¡ç®— (åŸºç¡€ç”¨æ³•)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --out-csv ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100.csv

# 3a. é«˜çº§é€‰é¡¹ - æŒ‡å®šç›®æ ‡å¤–è§‚ (FN/MW/FT/WW/BS)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior FN

# 3b. é«˜çº§é€‰é¡¹ - åˆ†ç¦» StatTrakâ„¢ å’Œæ™®é€šçš®è‚¤
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --split-st

# 3c. é«˜çº§é€‰é¡¹ - é™åˆ¶å¼€ç®±æ•°é‡ (ä¾‹å¦‚: æœ€å¤š10ä¸ªç®±å­)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 10
```

---

## ğŸ¯ é«˜çº§å‚æ•°è¯´æ˜

### 1. `--target-exterior` - ç›®æ ‡å¤–è§‚é€‰æ‹©
æŒ‡å®šTrade-Upäº§å‡ºçš®è‚¤çš„ç›®æ ‡å¤–è§‚ï¼Œé»˜è®¤ä¸ºéšæœºå¤–è§‚ã€‚

**ä½¿ç”¨åœºæ™¯**: å½“ä½ åªæƒ³è®¡ç®—ç‰¹å®šå¤–è§‚çš„æ”¶ç›Šæ—¶
```bash
# åªè®¡ç®— FN (å´­æ–°å‡ºå‚) çš„æ”¶ç›Š
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior FN

# åªè®¡ç®— MW (ç•¥æœ‰ç£¨æŸ) çš„æ”¶ç›Š
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior MW

# å¯é€‰å€¼: FN, MW, FT, WW, BS
```

### 2. `--split-st` - StatTrakâ„¢ åˆ†ç¦»
å°† StatTrakâ„¢ ç‰©å“å’Œæ™®é€šç‰©å“åˆ†å¼€è®¡ç®—ï¼Œç”Ÿæˆä¸¤ä»½ç‹¬ç«‹æ¦œå•ã€‚

**ä½¿ç”¨åœºæ™¯**: STç‰©å“ä»·æ ¼é€šå¸¸æ˜¯æ™®é€šç‰ˆçš„2-10å€ï¼Œæ··ç®—ä¼šæ‰­æ›²ç›ˆåˆ©æ€§
```bash
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --split-st

# è¾“å‡ºæ–‡ä»¶:
# - ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦_ST.txt       (StatTrakâ„¢ æ¦œå•)
# - ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦_Normal.txt   (æ™®é€šæ¦œå•)
# - ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_ST.csv              (StatTrakâ„¢ CSV)
# - ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_Normal.csv          (æ™®é€š CSV)
```

### 3. `--fn-max` - é™åˆ¶å¼€ç®±æ•°é‡
é™åˆ¶æ¯ä¸ªçš®è‚¤æœ€å¤šå…è®¸çš„å¼€ç®±æ•°é‡ï¼Œé˜²æ­¢å°æ¦‚ç‡çš®è‚¤æƒé‡è¿‡é«˜ã€‚

**ä½¿ç”¨åœºæ™¯**: é¿å…è¿‡åº¦ä¾èµ–æå°‘æ•°é«˜ä»·ææ–™
```bash
# æ¯ä¸ªçš®è‚¤æœ€å¤š10ä¸ª
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 10

# æ¯ä¸ªçš®è‚¤æœ€å¤š5ä¸ª (æ›´ä¿å®ˆ)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 5
```

### 4. `--sell-fee` / `--buy-fee` - æ‰‹ç»­è´¹è°ƒæ•´
```bash
# Steam: 15%å”®å‡ºè´¹ç”¨
python calculate_scientific.py --input prices_with_exterior.csv --sell-fee 0.15

# BUFF: 2.5%å”®å‡ºè´¹ç”¨ (é»˜è®¤)
python calculate_scientific.py --input prices_with_exterior.csv --sell-fee 0.025

# C5Game: 5%ä¹°å…¥+5%å–å‡º
python calculate_scientific.py --input prices_with_exterior.csv --buy-fee 0.05 --sell-fee 0.05
```

### 5. ç»„åˆä½¿ç”¨ç¤ºä¾‹
```bash
# å®Œæ•´é…ç½®: FNå¤–è§‚ + STåˆ†ç¦» + é™åˆ¶10ä¸ª + BUFFæ‰‹ç»­è´¹
python calculate_scientific.py \
    --input prices_with_exterior.csv \
    --meta skins_meta_complete.csv \
    --target-exterior FN \
    --split-st \
    --fn-max 10 \
    --sell-fee 0.025 \
    --out-csv ç»“æœ_FN_STåˆ†ç¦».csv
```

---

## ğŸ“Š æ•°æ®å®Œæ•´æ€§

âœ… **æ€»ç‰©å“**: 1198ä¸ª  
âœ… **ç²¾ç¡®æµ®æ¼‚**: 1049ä¸ª (GitHub API + æ‰‹åŠ¨æŸ¥æ‰¾)  
âœ… **åˆ€å…·/æ‰‹å¥—**: 149ä¸ª (æ ‡å‡†æµ®æ¼‚0.06-0.80)  
âœ… **å‡†ç¡®ç‡**: **100%**

---

## ğŸ”§ ç‰¹æ®Šåœºæ™¯

### æ–°ç®±å­/çš®è‚¤å‘å¸ƒæ—¶
```bash
# 1. æ›´æ–°ç‰©å“æ¸…å• (æ‰‹åŠ¨ç¼–è¾‘ cs2_case_items_full.csv)
# 2. æ›´æ–°æµ®æ¼‚æ•°æ®
python fetch_float_from_github.py --items cs2_case_items_full.csv --output skins_meta_complete.csv

# 3. å¦‚æœæœ‰æ–°ç‰©å“ç¼ºå°‘æµ®æ¼‚,æ‰‹åŠ¨æŸ¥æ‰¾å:
python update_manual_floats.py
```

### æ•°æ®æ ¼å¼é—®é¢˜
```bash
python unify_prices.py
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **API Key**: SteamDT API Keyå·²é…ç½®åœ¨ `fetch_prices_with_steamdt.py`
2. **è¿è¡Œæ—¶é—´**: æ¯æ—¥æ›´æ–°çº¦éœ€5-10åˆ†é’Ÿ
3. **Pythonç¯å¢ƒ**: `E:/anaconda/envs/lsPython/python.exe`
4. **æ•°æ®å¤‡ä»½**: é‡è¦æ•°æ®æœ‰.backupæ–‡ä»¶ä¿æŠ¤

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜æ—¶çš„æ£€æŸ¥é¡ºåº:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ£€æŸ¥API Keyæ˜¯å¦æœ‰æ•ˆ
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
4. è¿è¡Œ `python -c "import pandas; print('OK')"`æµ‹è¯•ç¯å¢ƒ

---

**æœ€åæ›´æ–°**: 2025-11-10  
**ç‰ˆæœ¬**: v2.0 - å®Œæ•´æ•°æ®ç‰ˆ
