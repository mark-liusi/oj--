# CS2 Trade-Up 每日使用指南

## 📁 核心文件说明 (共18个)

### 1️⃣ 数据文件 (5个)
| 文件名 | 大小 | 说明 | 更新频率 |
|--------|------|------|----------|
| `cs2_case_items_full.csv` | 369KB | 所有箱子物品清单(1198个) | 新箱子发布时 |
| `skins_meta_complete.csv` | 60KB | 所有物品浮漂区间(100%准确) | 新皮肤发布时 |
| `prices_with_exterior.csv` | 28KB | 当前价格数据(含外观) | **每天** |
| `prices_all_min.csv` | 42KB | 原始价格数据(备用) | **每天** |
| `manual_float_data.csv` | 0.4KB | 手动查找的12个浮漂数据 | 几乎不变 |

### 2️⃣ 核心程序 (3个)
| 文件名 | 说明 | 使用场景 |
|--------|------|----------|
| `fetch_prices_with_steamdt.py` | 抓取最新价格 | **每天运行** |
| `calculate_scientific.py` | 科学版Trade-Up计算 | **每天运行** |
| `fetch_float_from_github.py` | 更新浮漂区间 | 新皮肤发布时 |

### 3️⃣ 辅助工具 (2个)
| 文件名 | 说明 | 使用场景 |
|--------|------|----------|
| `unify_prices.py` | 统一价格数据格式 | 数据格式问题时 |
| `update_manual_floats.py` | 更新手动浮漂数据 | 新增手动浮漂时 |

### 4️⃣ 自动化脚本 (2个)
| 文件名 | 说明 | 使用方式 |
|--------|------|----------|
| `每日更新.bat` | **一键运行每日更新** | 双击运行 |
| `清理workspace.bat` | 清理临时文件 | 需要时运行 |

### 5️⃣ 文档 (1个)
| 文件名 | 说明 |
|--------|------|
| `README_科学版流程.md` | 详细使用说明 |

### 6️⃣ 计算结果 (5个)
| 文件名 | 说明 |
|--------|------|
| `科学版_盈利TOP100.csv` | 完整结果(CSV格式) |
| `科学版_盈利TOP100_按利润.txt` | 按利润排序 |
| `科学版_盈利TOP100_按ROI.txt` | 按ROI排序 |
| `科学版_亏损TOP100_按利润.txt` | 亏损项目(利润) |
| `科学版_亏损TOP100_按ROI.txt` | 亏损项目(ROI) |

---

## 🚀 每日使用流程

### 方法一: 一键更新 (推荐)
```batch
双击运行: 每日更新.bat
```

### 方法二: 手动步骤
```bash
# 1. 抓取最新价格 (约5分钟)
python fetch_prices_with_steamdt.py --items-csv cs2_case_items_full.csv --out prices_all_min.csv --mode current

# 2. 统一价格格式
python unify_prices.py

# 3. 运行科学计算
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --out-csv 科学版_盈利TOP100.csv
```

---

## 📊 数据完整性

✅ **总物品**: 1198个  
✅ **精确浮漂**: 1049个 (GitHub API + 手动查找)  
✅ **刀具/手套**: 149个 (标准浮漂0.06-0.80)  
✅ **准确率**: **100%**

---

## 🔧 特殊场景

### 新箱子/皮肤发布时
```bash
# 1. 更新物品清单 (手动编辑 cs2_case_items_full.csv)
# 2. 更新浮漂数据
python fetch_float_from_github.py --items cs2_case_items_full.csv --output skins_meta_complete.csv

# 3. 如果有新物品缺少浮漂,手动查找后:
python update_manual_floats.py
```

### 数据格式问题
```bash
python unify_prices.py
```

---

## 📝 注意事项

1. **API Key**: SteamDT API Key已配置在 `fetch_prices_with_steamdt.py`
2. **运行时间**: 每日更新约需5-10分钟
3. **Python环境**: `E:/anaconda/envs/lsPython/python.exe`
4. **数据备份**: 重要数据有.backup文件保护

---

## 📞 技术支持

遇到问题时的检查顺序:
1. 检查网络连接
2. 检查API Key是否有效
3. 查看错误日志
4. 运行 `python -c "import pandas; print('OK')"`测试环境

---

**最后更新**: 2025-11-10  
**版本**: v2.0 - 完整数据版
