# å·¥å…·è„šæœ¬æ–‡ä»¶å¤¹

æ­¤æ–‡ä»¶å¤¹åŒ…å«è¾…åŠ©å·¥å…·è„šæœ¬ï¼Œç”¨äºæ•°æ®å‡†å¤‡å’Œç»´æŠ¤ï¼Œéæ¯æ—¥ä½¿ç”¨ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. `fetch_float_from_github.py`
- **åŠŸèƒ½**: ä» GitHub ä»“åº“æŠ“å– CS2 çš®è‚¤æµ®æ¼‚å…ƒæ•°æ®
- **æ•°æ®æº**: https://github.com/Nereziel/cs2-WeaponPaints
- **è¾“å‡º**: `data/skins_meta_complete.csv`
- **ä½¿ç”¨åœºæ™¯**: æ¸¸æˆæ›´æ–°æ–°å¢çš®è‚¤æ—¶è¿è¡Œ
- **è¿è¡Œé¢‘ç‡**: æŒ‰éœ€ï¼ˆæ¸¸æˆæ›´æ–°æ—¶ï¼‰

```bash
python tools/fetch_float_from_github.py
```

---

### 2. `generate_cn_name_mapping.py`
- **åŠŸèƒ½**: ç”Ÿæˆè‹±æ–‡â†’ä¸­æ–‡ç‰©å“åç§°æ˜ å°„è¡¨
- **æ•°æ®æº**: Steam ç¤¾åŒºå¸‚åœº API / BUFF API / æ‰‹åŠ¨æ˜ å°„
- **è¾“å‡º**: `data/name_mapping.csv`
- **ä½¿ç”¨åœºæ™¯**: 
  - é¦–æ¬¡éƒ¨ç½²æ—¶ç”Ÿæˆå®Œæ•´æ˜ å°„è¡¨
  - æ¸¸æˆæ–°å¢ç‰©å“æ—¶æ›´æ–°
  - éœ€è¦ä»ä¸­æ–‡å¹³å°ï¼ˆBUFFã€æ‚ æ‚ æœ‰å“ï¼‰æŠ“å–ä»·æ ¼æ—¶
- **è¿è¡Œé¢‘ç‡**: æŒ‰éœ€ï¼ˆé¦–æ¬¡éƒ¨ç½²æˆ–æ¸¸æˆæ›´æ–°æ—¶ï¼‰

```bash
# ä» Steam è‡ªåŠ¨è·å–ï¼ˆæ¨èï¼Œä½†è¾ƒæ…¢ï¼‰
python tools/generate_cn_name_mapping.py --source steam --rate-limit 0.5

# ä½¿ç”¨å†…ç½®æ‰‹åŠ¨æ˜ å°„ï¼ˆå¿«é€Ÿï¼Œä½†åªåŒ…å«å¸¸è§ç‰©å“ï¼‰
python tools/generate_cn_name_mapping.py --source manual

# ä» BUFF è·å–ï¼ˆéœ€è¦ç™»å½• cookiesï¼‰
python tools/generate_cn_name_mapping.py --source buff --buff-cookies cookies.json
```

---

### 3. `generate_best_materials_by_case.py`
- **åŠŸèƒ½**: ä»ç§‘å­¦ç‰ˆè®¡ç®—ç»“æœä¸­æå–æ¯ä¸ªç®±å­çš„æœ€ä½³ææ–™ç»„åˆ
- **è¾“å…¥**: ç§‘å­¦ç‰ˆè®¡ç®—ç»“æœ CSV
- **è¾“å‡º**: æœ€ä½³ä¸»æ–™æ¸…å•ï¼ˆæŒ‰ç®±å­åˆ†ç±»ï¼‰
- **ä½¿ç”¨åœºæ™¯**: ç”Ÿæˆç©å®¶å‹å¥½çš„è´­ä¹°æ¸…å•
- **è¿è¡Œé¢‘ç‡**: æ¯æ—¥æ›´æ–°åï¼ˆå¯é€‰ï¼‰

```bash
python tools/generate_best_materials_by_case.py
```

---

### 4. `connectors_market.py`
- **åŠŸèƒ½**: å¸‚åœºä»·æ ¼æŠ“å–å™¨ï¼ˆæ”¯æŒ CSFloat / BUFF / YouPinï¼‰
- **ç”¨é€”**: è¢«ä¸»ç¨‹åºå¯¼å…¥ä½¿ç”¨ï¼Œæä¾›ä½æµ®æ¼‚ä»·æ ¼æŸ¥è¯¢
- **ä½¿ç”¨æ–¹å¼**: ä½œä¸ºæ¨¡å—è¢«å…¶ä»–è„šæœ¬å¯¼å…¥
- **ä¾èµ–**: 
  - `data/name_mapping.csv`ï¼ˆä¸­æ–‡å¹³å°æœç´¢æ—¶éœ€è¦ï¼‰
  - API Keys / Cookiesï¼ˆå„å¹³å°ï¼‰

```python
from tools.connectors_market import MarketPriceFetcher, FetcherConfig
```

---

## ğŸ”„ å…¸å‹å·¥ä½œæµ

### é¦–æ¬¡éƒ¨ç½²
```bash
# 1. è·å–æµ®æ¼‚å…ƒæ•°æ®
python tools/fetch_float_from_github.py

# 2. ç”Ÿæˆä¸­æ–‡åç§°æ˜ å°„ï¼ˆå¦‚éœ€ä»ä¸­æ–‡å¹³å°æŠ“å–ä»·æ ¼ï¼‰
python tools/generate_cn_name_mapping.py --source manual

# 3. è¿è¡Œæ¯æ—¥æ›´æ–°
./æ¯æ—¥æ›´æ–°.bat
```

### æ¸¸æˆæ›´æ–°å
```bash
# 1. æ›´æ–°ç‰©å“æ¸…å•ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ data/cs2_case_items_full.csvï¼‰

# 2. æ›´æ–°æµ®æ¼‚å…ƒæ•°æ®
python tools/fetch_float_from_github.py

# 3. æ›´æ–°ä¸­æ–‡æ˜ å°„ï¼ˆå¦‚æœæ–°å¢ç‰©å“éœ€è¦ä»ä¸­æ–‡å¹³å°æŸ¥è¯¢ï¼‰
python tools/generate_cn_name_mapping.py --source steam
```

### æ¯æ—¥è¿è¡Œï¼ˆè‡ªåŠ¨åŒ–ï¼‰
```bash
# åªéœ€è¿è¡Œæ¯æ—¥æ›´æ–°è„šæœ¬ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ tools ä¸­çš„è„šæœ¬
./æ¯æ—¥æ›´æ–°.bat
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

- è¿™äº›å·¥å…·è„šæœ¬**ä¸éœ€è¦æ¯å¤©è¿è¡Œ**
- åªåœ¨ç‰¹å®šåœºæ™¯ï¼ˆé¦–æ¬¡éƒ¨ç½²ã€æ¸¸æˆæ›´æ–°ï¼‰æ—¶ä½¿ç”¨
- `connectors_market.py` æ˜¯ä¾èµ–æ¨¡å—ï¼Œä¼šè¢«ä¸»ç¨‹åºè‡ªåŠ¨å¯¼å…¥
- æ‰€æœ‰å·¥å…·è„šæœ¬çš„è¾“å‡ºæ–‡ä»¶éƒ½å­˜æ”¾åœ¨ `data/` æ–‡ä»¶å¤¹ä¸­
