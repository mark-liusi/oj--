# CS2 Trade-Up å¿«é€Ÿå…¥é—¨æŒ‡å— ğŸš€

## ğŸ“¦ ç¬¬ä¸€æ¬¡ä½¿ç”¨

### 1. æ£€æŸ¥ç¯å¢ƒ
```bash
# ç¡®è®¤ Python ç¯å¢ƒ
python --version  # åº”è¯¥æ˜¾ç¤º Python 3.x

# æ£€æŸ¥å¿…éœ€æ–‡ä»¶æ˜¯å¦å­˜åœ¨
dir cs2_case_items_full.csv
dir skins_meta_complete.csv
```

### 2. æ›´æ–°ä»·æ ¼æ•°æ®
```bash
# åŒå‡»è¿è¡Œ (æ¨è)
æ¯æ—¥æ›´æ–°.bat

# æˆ–æ‰‹åŠ¨è¿è¡Œ
python fetch_prices_with_steamdt.py --items-csv cs2_case_items_full.csv --out prices_all_min.csv --mode current
python unify_prices.py
```

### 3. è®¡ç®—æœ€ä½³Trade-Upæ–¹æ¡ˆ
```bash
# åŸºç¡€ç”¨æ³• (æœ€ç®€å•)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv

# æŸ¥çœ‹ç»“æœ
type ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt
```

---

## ğŸ¯ å¸¸ç”¨å‘½ä»¤

### ğŸ“ˆ æŒ‰åˆ©æ¶¦æ’åº (é»˜è®¤)
```bash
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv
```
**è¾“å‡º**: `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt`

### ğŸ’° åªçœ‹ FN (å´­æ–°å‡ºå‚)
```bash
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior FN
```
**è¾“å‡º**: `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦_FN.txt`

### ğŸ¨ åˆ†ç¦» StatTrakâ„¢
```bash
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --split-st
```
**è¾“å‡º**: 
- `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦_ST.txt` (StatTrakâ„¢)
- `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦_Normal.txt` (æ™®é€š)

### ğŸ”¥ æ¨èé…ç½® (ä¿å®ˆç­–ç•¥)
```bash
python calculate_scientific.py ^
    --input prices_with_exterior.csv ^
    --meta skins_meta_complete.csv ^
    --target-exterior FN ^
    --split-st ^
    --fn-max 10 ^
    --sell-fee 0.025
```
**è¯´æ˜**:
- `--target-exterior FN`: åªè®¡ç®—å´­æ–°å‡ºå‚
- `--split-st`: STå’Œæ™®é€šåˆ†å¼€ç®—
- `--fn-max 10`: æ¯ä¸ªçš®è‚¤æœ€å¤š10ä¸ª
- `--sell-fee 0.025`: BUFFæ‰‹ç»­è´¹2.5%

---

## ğŸ“Š ç†è§£è¾“å‡ºç»“æœ

### ç»“æœæ–‡ä»¶è¯´æ˜
| æ–‡ä»¶å | å†…å®¹ |
|--------|------|
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt` | æŒ‰ç»å¯¹åˆ©æ¶¦æ’åº (æ¨èå…ˆçœ‹) |
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰ROI.txt` | æŒ‰ROI%æ’åº (é«˜å›æŠ¥ç‡) |
| `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100.csv` | å®Œæ•´æ•°æ®è¡¨æ ¼ |

### å…³é”®æŒ‡æ ‡è§£è¯»
```
ç¤ºä¾‹è¾“å‡º:
[1] Galil AR | Blue Titanium (FT) - ç³»åˆ—: Revolver Case
    tier: Mil-Spec â†’ Restricted (K=10)
    ï¿¥5.70 â†’ EV_out=ï¿¥22.14 â†’ value_per_item=ï¿¥2.16
    buy_cost: ï¿¥5.70, margin: -ï¿¥3.54
    profit_ratio: -62.11%
```

**æŒ‡æ ‡è¯´æ˜**:
- **tier**: ç¨€æœ‰åº¦è·¨æ¡£ (Consumerâ†’Industrialâ†’Mil-Specâ†’Restrictedâ†’Classifiedâ†’Covertâ†’Gold)
- **K**: è·¨æ¡£ç³»æ•° (æ™®é€š=10, çº¢â†’é‡‘=5)
- **ä»·æ ¼**: å½“å‰ä¹°å…¥ä»·
- **EV_out**: äº§å‡ºæœŸæœ›ä»·å€¼ (è€ƒè™‘æµ®æ¼‚/å¤–è§‚)
- **value_per_item**: å•ä»¶ä»·å€¼ = EV_out Ã— (1-æ‰‹ç»­è´¹) / K
- **buy_cost**: å®é™…è´­ä¹°æˆæœ¬ (å«ä¹°å…¥è´¹)
- **margin**: åˆ©æ¶¦ = value_per_item - buy_cost
- **profit_ratio**: ROI% = margin / buy_cost Ã— 100%

### å¦‚ä½•é€‰æ‹©æ–¹æ¡ˆï¼Ÿ

#### ğŸ¯ è¿½æ±‚ç¨³å®šåˆ©æ¶¦
çœ‹ `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt` å‰10å
- å…³æ³¨ **margin > 0** çš„é¡¹ç›®
- é€‰æ‹© **ä»·æ ¼é€‚ä¸­** çš„ææ–™ (5-50å…ƒ)
- é¿å… **K=5** çš„çº¢â†’é‡‘è·¨æ¡£ (æ¦‚ç‡ä½)

#### ğŸ’ è¿½æ±‚é«˜å›æŠ¥ç‡
çœ‹ `ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰ROI.txt` å‰10å
- å…³æ³¨ **profit_ratio > 50%** çš„é¡¹ç›®
- å°å¿ƒä½ä»·ææ–™çš„è™šé«˜ROI
- ç»“åˆåˆ©æ¶¦ä¸€èµ·çœ‹

#### ğŸ›¡ï¸ ä¿å®ˆç­–ç•¥
```bash
# ä½¿ç”¨ä¿å®ˆå‚æ•°
python calculate_scientific.py \
    --input prices_with_exterior.csv \
    --meta skins_meta_complete.csv \
    --target-exterior FN \
    --fn-max 10 \
    --split-st
```
- **FN**: æœ€ä¿å€¼çš„å¤–è§‚
- **fn-max 10**: é™åˆ¶æŒä»“é£é™©
- **split-st**: é¿å…STæº¢ä»·æ‰­æ›²

---

## ğŸ”„ æ¯æ—¥æµç¨‹

### æ–¹æ³•ä¸€: è‡ªåŠ¨åŒ– (æ¨è)
```bash
1. åŒå‡»: æ¯æ—¥æ›´æ–°.bat
2. ç­‰å¾… 5-10 åˆ†é’Ÿ
3. æŸ¥çœ‹: ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt
```

### æ–¹æ³•äºŒ: æ‰‹åŠ¨æ­¥éª¤
```bash
# æ­¥éª¤1: æ›´æ–°ä»·æ ¼ (5åˆ†é’Ÿ)
python fetch_prices_with_steamdt.py --items-csv cs2_case_items_full.csv --out prices_all_min.csv --mode current

# æ­¥éª¤2: ç»Ÿä¸€æ ¼å¼
python unify_prices.py

# æ­¥éª¤3: è®¡ç®—æ–¹æ¡ˆ
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv

# æ­¥éª¤4: æŸ¥çœ‹ç»“æœ
type ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt
```

---

## âš™ï¸ é«˜çº§åŠŸèƒ½

### ğŸ¨ å¤–è§‚é€‰æ‹©
```bash
# FN (å´­æ–°å‡ºå‚) 0.00-0.07
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior FN

# MW (ç•¥æœ‰ç£¨æŸ) 0.07-0.15
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior MW

# FT (ä¹…ç»æ²™åœº) 0.15-0.38
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior FT

# WW (ç ´æŸä¸å ª) 0.38-0.45
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior WW

# BS (æˆ˜ç—•ç´¯ç´¯) 0.45-1.00
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --target-exterior BS
```

### ğŸ“Š å¯¼å‡ºCSVåˆ†æ
```bash
python calculate_scientific.py \
    --input prices_with_exterior.csv \
    --meta skins_meta_complete.csv \
    --out-csv æˆ‘çš„åˆ†æç»“æœ.csv
    
# ç„¶åç”¨ Excel æ‰“å¼€ æˆ‘çš„åˆ†æç»“æœ.csv
```

### ğŸ¯ å¹³å°æ‰‹ç»­è´¹
```bash
# Steam (15%)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --sell-fee 0.15

# BUFF (2.5%) - é»˜è®¤
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --sell-fee 0.025

# C5Game (5%ä¹°å…¥ + 5%å–å‡º)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --buy-fee 0.05 --sell-fee 0.05

# Igxe (10%å–å‡º)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --sell-fee 0.10
```

### ğŸ”¢ æŒä»“é™åˆ¶
```bash
# æ¯ä¸ªçš®è‚¤æœ€å¤š5ä¸ª (æä¿å®ˆ)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 5

# æ¯ä¸ªçš®è‚¤æœ€å¤š10ä¸ª (ä¿å®ˆ)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 10

# æ¯ä¸ªçš®è‚¤æœ€å¤š20ä¸ª (å‡è¡¡)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv --fn-max 20

# ä¸é™åˆ¶ (é»˜è®¤)
python calculate_scientific.py --input prices_with_exterior.csv --meta skins_meta_complete.csv
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: è¿è¡ŒæŠ¥é”™ "æ‰¾ä¸åˆ°æ¨¡å—"
```bash
# å®‰è£…ä¾èµ–
pip install pandas numpy requests
```

### Q2: ä»·æ ¼æ•°æ®å¤ªæ—§
```bash
# é‡æ–°æŠ“å–
python fetch_prices_with_steamdt.py --items-csv cs2_case_items_full.csv --out prices_all_min.csv --mode current
python unify_prices.py
```

### Q3: æƒ³çœ‹äºæŸé¡¹ç›®
```bash
type ç§‘å­¦ç‰ˆ_äºæŸTOP100_æŒ‰åˆ©æ¶¦.txt
type ç§‘å­¦ç‰ˆ_äºæŸTOP100_æŒ‰ROI.txt
```

### Q4: ç»“æœæ–‡ä»¶ä¹±ç 
```bash
# Windows ä½¿ç”¨ type å‘½ä»¤
type ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt

# æˆ–ç”¨è®°äº‹æœ¬æ‰“å¼€ (UTF-8ç¼–ç )
notepad ç§‘å­¦ç‰ˆ_ç›ˆåˆ©TOP100_æŒ‰åˆ©æ¶¦.txt
```

### Q5: æƒ³æ›´æ–°æµ®æ¼‚æ•°æ®
```bash
# æ–°çš®è‚¤å‘å¸ƒæ—¶è¿è¡Œ
python fetch_float_from_github.py --items cs2_case_items_full.csv --output skins_meta_complete.csv
```

---

## ğŸ“š æ›´å¤šèµ„æ–™

- **è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ `ä½¿ç”¨æŒ‡å—.md`
- **æŠ€æœ¯ç»†èŠ‚**: æŸ¥çœ‹ `README_ç§‘å­¦ç‰ˆæµç¨‹.md`
- **è®¡ç®—åŸç†**: æŸ¥çœ‹ `calculate_scientific.py` å¤´éƒ¨æ³¨é‡Š

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# ç°åœ¨å°±è¯•è¯•å§ï¼
æ¯æ—¥æ›´æ–°.bat
```

**ç¥äº¤æ˜“æ„‰å¿«ï¼** ğŸ’°
